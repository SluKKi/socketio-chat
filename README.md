## События

### Событие: 'add user'
- **Назначение**: Инициирует процесс добавления нового пользователя в чат. Отправляется клиентом на сервер.
- **Данные**: username - имя пользователя.
- **Логика**:
1. Проверяет, не был ли пользователь уже добавлен ранее (флаг addedUser). Если был, выполнение прерывается.
2. Сохраняет имя пользователя в сессии сокета (socket.username).
3. Увеличивает глобальный счетчик пользователей (numUsers).
4. Устанавливает флаг addedUse` в true.
5. Отправляет обратно клиенту событие 'login' с данными о текущем количестве пользователей.

---

## Событие: 'login'
- **Назначение**: Обрабатывает успешный вход пользователя в систему.
- **Данные**: Объект data с информацией о пользователях в чате.
- **Действия**:
1. Устанавливает флаг connected в true.
2. Выводит приветственное сообщение "Welcome to Socket.IO Chat – ".
3. Обновляет список участников чата с помощью addParticipantsMessage(data).

---

### Событие: 'typing'
- **Назначение**: Уведомляет о том, что пользователь начал печатать сообщение.
- **Данные**: Объект`data, содержащий username пользователя.
- **Действия**:
1. Добавляет индикатор набора текста в чат с помощью addChatTyping(data).

---

### Событие: 'stop typing'
- **Назначение**: Уведомляет о том, что пользователь прекратил печатать сообщение.
- **Данные**: Объект data, содержащий username пользователя.
- **Действия**:
1. Удаляет индикатор набора текста для этого пользователя с помощью removeChatTyping(data).

---

### Событие: 'new message'
- **Назначение**: Обрабатывает новое сообщение, отправленное в чат.
- **Данные**: Объект data, содержащий информацию о сообщении.
- **Действия**:
1. Добавляет сообщение в тело чата с помощью addChatMessage(data).

---

### Событие: 'user joined'
- **Назначение**: Уведомляет о подключении нового пользователя.
- **Данные**: Объект data, содержащий username нового пользователя.
- **Действия**:
1. Логирует сообщение в чате вида "[username] joined".
2. Обновляет список участников чата с помощью addParticipantsMessage(data).

---

### Событие: 'user left'
- **Назначение**: Уведомляет об отключении пользователя.
- **Данные**: Объект data, содержащий username пользователя, который вышел.
- **Действия**:
1. Логирует сообщение в чате вида "[username] left".
2. Обновляет список участников чата с помощью addParticipantsMessage(data).
3. Удаляет индикатор набора текста (typing indicator) для этого пользователя, если он был активен, с помощью removeChatTyping(data).

---

### Событие менеджера: 'reconnect'
- **Назначение**: Обрабатывает успешное повторное подключение к серверу.
- **Данные**: Отсутствуют.
- **Действия**:
1. Логирует сообщение "you have been reconnected".
2. Если имя пользователя (username) было задано до разрыва соединения, автоматически отправляет событие 'add user' на сервер для повторной аутентификации.

---

### Событие менеджера: 'reconnect_error'
- **Назначение**: Обрабатывает неудачную попытку повторного подключения.
- **Данные**: Отсутствуют.
- **Действия**:
1. Логирует сообщение "attempt to reconnect has failed".
